<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>La Vida: GameApp.game_app_3d.GameApp3d Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>GameApp</b>.<b>game_app_3d</b>.<a class="el" href="classGameApp_1_1game__app__3d_1_1GameApp3d.html">GameApp3d</a>
  </div>
</div>
<div class="contents">
<h1>GameApp.game_app_3d.GameApp3d Class Reference</h1><!-- doxytag: class="GameApp::game_app_3d::GameApp3d" -->The main game class which manages all other processes  A 3d GameApp.  
<a href="#_details">More...</a>
<p>

<p>
<a href="classGameApp_1_1game__app__3d_1_1GameApp3d-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameApp_1_1game__app__3d_1_1GameApp3d.html#5b5e3b363668e2ab600a5543e4fe8170">__init__</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct the Game app object and load game assets for startup.  <a href="#5b5e3b363668e2ab600a5543e4fe8170"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="366c111170f35798beda14c71461feda"></a><!-- doxytag: member="GameApp::game_app_3d::GameApp3d::LoadObjects" ref="366c111170f35798beda14c71461feda" args="" -->
def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameApp_1_1game__app__3d_1_1GameApp3d.html#366c111170f35798beda14c71461feda">LoadObjects</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">load all 3d objects and models <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The main game class which manages all other processes  A 3d GameApp. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="5b5e3b363668e2ab600a5543e4fe8170"></a><!-- doxytag: member="GameApp::game_app_3d::GameApp3d::__init__" ref="5b5e3b363668e2ab600a5543e4fe8170" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def GameApp.game_app_3d.GameApp3d.__init__           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>a_ViewPortWidth</em> = <code>1024</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>a_ViewPortHeight</em> = <code>768</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>a_Fullscreen</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>a_AppName</em> = <code>&quot;GameApp3d&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>a_DataPath</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct the Game app object and load game assets for startup. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a_ViewPortWidth</em>&nbsp;</td><td>Int: the width of the viewport </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a_ViewPortHeight</em>&nbsp;</td><td>Int: the height of the viewport </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a_Fullscreen</em>&nbsp;</td><td>Boolean: Display full screen True or False </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a_AppName</em>&nbsp;</td><td>String: The title to show on the window in windowed mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a_DataPath</em>&nbsp;</td><td>String: The path to the data directory </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>returns a <a class="el" href="classGameApp_1_1game__app__3d_1_1GameApp3d.html" title="The main game class which manages all other processes  A 3d GameApp.">GameApp3d</a> instance </dd></dl>
<div class="fragment"><pre class="fragment"><a name="l00067"></a>00067                                                                                                                               :
<a name="l00068"></a>00068         <span class="comment"># start pygame</span>
<a name="l00069"></a>00069         pygame.init()
<a name="l00070"></a>00070         self.m_Clock = pygame.time.Clock()
<a name="l00071"></a>00071 
<a name="l00072"></a>00072         <span class="comment"># start glut</span>
<a name="l00073"></a>00073         <span class="comment"># @warning may be removed later as glut isnt really needed now</span>
<a name="l00074"></a>00074         glutInit()
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         self.DATA_PATH = a_DataPath != <span class="keywordtype">None</span> <span class="keywordflow">and</span> a_DataPath <span class="keywordflow">or</span> path.join( getcwd(), <span class="stringliteral">"data"</span> )
<a name="l00077"></a>00077 
<a name="l00078"></a>00078         <span class="comment"># create the camera</span>
<a name="l00079"></a>00079         self.m_Camera = oglCamera( a_ViewPortWidth, a_ViewPortHeight)
<a name="l00080"></a>00080         self.m_Camera.SetPosition(0, -4, 3.0)
<a name="l00081"></a>00081         self.m_Camera.m_XRot += 31
<a name="l00082"></a>00082         self.m_Camera.m_YRot += 157
<a name="l00083"></a>00083         
<a name="l00084"></a>00084         <span class="comment"># set the display mode</span>
<a name="l00085"></a>00085         <span class="keywordflow">if</span> a_Fullscreen:
<a name="l00086"></a>00086             video_options = OPENGL|DOUBLEBUF|FULLSCREEN
<a name="l00087"></a>00087             modes = self.m_Camera.GetModesList()
<a name="l00088"></a>00088             <span class="keywordflow">for</span> mode <span class="keywordflow">in</span> modes:
<a name="l00089"></a>00089                 <span class="keywordflow">print</span> <span class="stringliteral">"%sx%s"</span> % (mode[0], mode[1]) 
<a name="l00090"></a>00090         <span class="keywordflow">else</span>:
<a name="l00091"></a>00091             video_options = OPENGL|DOUBLEBUF
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         screen = pygame.display.set_mode((a_ViewPortWidth, a_ViewPortHeight), video_options)
<a name="l00094"></a>00094         pygame.display.set_caption(a_AppName)
<a name="l00095"></a>00095         self.Resize((a_ViewPortWidth, a_ViewPortHeight))
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="keywordflow">if</span> (<span class="keywordflow">not</span> glInitVertexBufferObjectARB ()):
<a name="l00099"></a>00099             <span class="keywordflow">print</span> <span class="stringliteral">"Help!  No GL_ARB_vertex_buffer_object"</span>
<a name="l00100"></a>00100             sys.exit(1)
<a name="l00101"></a>00101             <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00102"></a>00102         
<a name="l00103"></a>00103         <span class="comment"># set some OpenGL options</span>
<a name="l00104"></a>00104         glEnable(GL_CULL_FACE)
<a name="l00105"></a>00105         glCullFace( GL_BACK )
<a name="l00106"></a>00106         glShadeModel(GL_SMOOTH)
<a name="l00107"></a>00107         glClearColor( 0.5, 0.5, 1.0, 1.0 )
<a name="l00108"></a>00108         glEnable(GL_COLOR_MATERIAL)
<a name="l00109"></a>00109         glMaterial( GL_FRONT, GL_SHININESS, 5.0 )
<a name="l00110"></a>00110         glClearDepth(1.0)
<a name="l00111"></a>00111         glEnable(GL_DEPTH_TEST)
<a name="l00112"></a>00112         glDepthFunc(GL_LEQUAL)
<a name="l00113"></a>00113         glHint(GL_PERSPECTIVE_CORRECTION_HINT, GL_NICEST)
<a name="l00114"></a>00114 
<a name="l00115"></a>00115         self.m_UseShader = <span class="keyword">False</span>
<a name="l00116"></a>00116         self.m_Shader = ogl_shader.oglBumpyShader()
<a name="l00117"></a>00117 
<a name="l00118"></a>00118         self.m_SelectedObject = <span class="keywordtype">None</span>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120         self.m_EditTerrain = <span class="keyword">False</span>
<a name="l00121"></a>00121 
<a name="l00122"></a>00122         self.SetupLighting()
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         self.SetupFog()
<a name="l00125"></a>00125 
<a name="l00126"></a>00126         <span class="comment"># init the keyboard input processing</span>
<a name="l00127"></a>00127         self.SetupKeyBuffer()
<a name="l00128"></a>00128 
<a name="l00129"></a>00129         <span class="comment"># init the messaging system console</span>
<a name="l00130"></a>00130         self.LoadConsole()
<a name="l00131"></a>00131 
<a name="l00132"></a>00132         <span class="comment"># start loading basic assets</span>
<a name="l00133"></a>00133         self.StartMusicTrack( <span class="stringliteral">"01_every_thought_has_been_thought.ogg"</span> )
<a name="l00134"></a>00134         self.m_SplashBg = TexturedRect( <span class="stringliteral">"%s/gui/graphics/background_light_clouds.png"</span> % self.DATA_PATH, Vector3d( 0, 0, 1.0 ), 
<a name="l00135"></a>00135                                        self.m_Camera.m_ViewportWidth, self.m_Camera.m_ViewportHeight )
<a name="l00136"></a>00136 
<a name="l00137"></a>00137         self.m_SplashLogo = TexturedRect( <span class="stringliteral">"%s/gui/graphics/logo_la_vida.png"</span> % self.DATA_PATH, Vector3d( 200, 311, 1.0 ), 676, 200 )
<a name="l00138"></a>00138         pos_x = self.m_Camera.m_ViewportWidth - 130
<a name="l00139"></a>00139         pos_y = -15 - ( self.m_Camera.m_ViewportHeight / 2 )
<a name="l00140"></a>00140         self.m_WingIDELogo = TexturedRect( <span class="stringliteral">"%s/gui/graphics/logo_wing_ide.png"</span> % 
<a name="l00141"></a>00141                                            self.DATA_PATH, 
<a name="l00142"></a>00142                                            Vector3d( pos_x, pos_y, 1.0 ),
<a name="l00143"></a>00143                                            217, 80 )
<a name="l00144"></a>00144         
<a name="l00145"></a>00145         self.UpdateSplash( <span class="stringliteral">"Loading ..."</span> )
<a name="l00146"></a>00146 
<a name="l00147"></a>00147         self.LoadObjects()
<a name="l00148"></a>00148         
<a name="l00149"></a>00149         self.UpdateSplash( <span class="stringliteral">"Loading ..."</span> )
<a name="l00150"></a>00150         
<a name="l00151"></a>00151         self.SetupUI()
<a name="l00152"></a>00152         
<a name="l00153"></a>00153         <span class="comment"># setup the game timers</span>
<a name="l00154"></a>00154         self.SetupTiming()
<a name="l00155"></a>00155         
<a name="l00156"></a>00156         <span class="comment"># setup the process pipelining</span>
<a name="l00157"></a>00157         <span class="comment"># @warning Not yet implemented</span>
<a name="l00158"></a>00158         self.SetupExecutionCycles()
<a name="l00159"></a>00159         
    <span class="keyword">def </span>SetupExecutionCycles( self ):
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>Documents/la-vida/trunk/GameApp/game_app_3d.py</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Mar 29 11:25:57 2010 for La Vida by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
